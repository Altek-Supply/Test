{"ast":null,"code":"import _slicedToArray from\"E:/Sani/Documents/Smart Search Github Pages/Test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import DataCards from'./DataCards';import Loading from'./Loading';import logoImage from'../logo.png';import'../Loading.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PostForm(){var endpointUrl='http://smartsearch.e4968d402781421d8c72.westus2.aksapp.io/api/smartsearch';// Endpoint URL\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];// Defining loading state as false on initialization\nvar _useState3=useState({names:[]}),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),responseData=_useState6[0],setResponseData=_useState6[1];function submit(e){e.preventDefault();setLoading(true);// Defining the loading state as true as API is fetching response\nvar searchString=encodeURIComponent(data.names.join('*'));var fullUrl=\"\".concat(endpointUrl,\"?txt=\\\"\").concat(searchString,\"\\\"\");//URL Reconstruction\nfetch(fullUrl).then(function(response){return response.json();}).then(function(data){console.log(data);setResponseData(data);setLoading(false);}).catch(function(error){console.log(error);setResponseData(null);setLoading(false);// Setting the loading state to false once response is recieved \n});}function handle(e){var inputValue=e.target.value;var inputArray=inputValue.split('*');setData({names:inputArray});console.log(inputArray);}return/*#__PURE__*/_jsx(\"div\",{id:\"Forms\",className:\"forms\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-container\",children:/*#__PURE__*/_jsx(\"img\",{src:logoImage,alt:\"Logo\",className:\"logo-image\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form_box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Atlas smart search\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:handle,className:\"sku_textarea\",value:data.names.join('*'),placeholder:\"PASTE END USER DESCRIPTION AS PROMPT\",type:\"text\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-submit\",children:\"Submit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"output_box\",children:[loading&&/*#__PURE__*/_jsx(Loading,{}),!loading&&responseData&&/*#__PURE__*/_jsx(DataCards,{names:data.names,responseData:responseData})]})]})});}export default PostForm;","map":{"version":3,"names":["React","useState","DataCards","Loading","logoImage","jsx","_jsx","jsxs","_jsxs","PostForm","endpointUrl","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","names","_useState4","data","setData","_useState5","_useState6","responseData","setResponseData","submit","e","preventDefault","searchString","encodeURIComponent","join","fullUrl","concat","fetch","then","response","json","console","log","catch","error","handle","inputValue","target","value","inputArray","split","id","className","children","src","alt","onSubmit","onChange","placeholder","type"],"sources":["E:/Sani/Documents/Smart Search Github Pages/Test/src/components/PostForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport DataCards from './DataCards';\r\nimport Loading from './Loading';\r\nimport logoImage from '../logo.png';\r\nimport '../Loading.css';\r\n\r\n\r\nfunction PostForm() {\r\n  const endpointUrl = 'http://smartsearch.e4968d402781421d8c72.westus2.aksapp.io/api/smartsearch'; // Endpoint URL\r\n  const [loading, setLoading] = useState(false); // Defining loading state as false on initialization\r\n  const [data, setData] = useState({\r\n    names: []\r\n  });\r\n  const [responseData, setResponseData] = useState(null);\r\n\r\n  function submit(e) {\r\n    e.preventDefault();\r\n    setLoading(true); // Defining the loading state as true as API is fetching response\r\n    const searchString = encodeURIComponent(data.names.join('*'));\r\n\r\n    const fullUrl = `${endpointUrl}?txt=\"${searchString}\"`; //URL Reconstruction\r\n\r\n    fetch(fullUrl)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        setResponseData(data);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setResponseData(null);\r\n        setLoading(false); // Setting the loading state to false once response is recieved \r\n      });\r\n  }\r\n\r\n  function handle(e) {\r\n    const inputValue = e.target.value;\r\n    const inputArray = inputValue.split('*');\r\n    setData({ names: inputArray });\r\n    console.log(inputArray);\r\n  }\r\n\r\n  return (\r\n    <div id=\"Forms\" className=\"forms\">\r\n      <div className=\"container\">\r\n      <div className=\"logo-container\">\r\n        <img src={logoImage} alt=\"Logo\" className=\"logo-image\" />\r\n      </div>\r\n        <form onSubmit={submit}>\r\n          <div className=\"form_box\">\r\n            <div className=\"row\">\r\n              <h1>Atlas smart search</h1>\r\n              <textarea\r\n                onChange={handle}\r\n                className=\"sku_textarea\"\r\n                value={data.names.join('*')}\r\n                placeholder=\"PASTE END USER DESCRIPTION AS PROMPT\"\r\n                type=\"text\"\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n          <button className=\"btn-submit\">Submit</button>\r\n        </form>\r\n\r\n        <div className=\"output_box\">\r\n            {loading && <Loading />}\r\n            {!loading && responseData && \r\n            (<DataCards names={data.names} responseData={responseData} /> \r\n            )} \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}